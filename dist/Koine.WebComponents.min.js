var exports=exports||void 0;!function(a){"use strinct";var b=function(b,c,d,e){var f,g,h;this.source=new a.Decorators.Dom.SelectDecorator(b[0]),this.destination=new a.Decorators.Dom.SelectDecorator(c[0]),g=this.getSource(),h=this.getDestination(),f=this,this.setContainer(d),g.on("options:added, options:removed",function(){f.render()}),h.on("options:added, options:removed",function(){f.render()}),d.on("click",".option",function(){e(this).toggleClass("selected")}),d.on("click","[data-add-selected]",function(a){a.preventDefault(),f._transferSelected(g,h,d.find(".source .option.selected"))}),d.on("click","[data-add-all]",function(a){a.preventDefault(),f._transferSelected(g,h,d.find(".source .option"))}),d.on("click","[data-remove-selected]",function(a){a.preventDefault(),f._transferSelected(h,g,d.find(".destination .option.selected"))}),d.on("click","[data-remove-all]",function(a){a.preventDefault(),f._transferSelected(h,g,d.find(".destination .option"))})};b.prototype={getSource:function(){return this.source},getDestination:function(){return this.destination},setContainer:function(a){this.$container=a},getContainer:function(){return this.$container},render:function(){var a=this._getOptionsHtml(this.getSource()),b=this._getOptionsHtml(this.getDestination()),c=this._getButtonsHtml(),d=this.template(['<div class="fancy-select">','<div class="source">{{sourceOptions}}</div>',"{{buttons}}",'<div class="destination">{{destinationOptions}}</div>',"</div>"].join(""),{sourceOptions:a,destinationOptions:b,buttons:c});this.getContainer().html(d)},_transferSelected:function(a,b,c){var d=[],e=[];c.each(function(){d.push($(this).data("value"))}),d.forEach(function(b){a.getOptions().forEach(function(a){b==a.getValue()&&e.push(a)})}),a.removeOptions(e),b.addOptions(e)},_getOptionsHtml:function(a){var b=[],c=this.template;return a.getOptions().forEach(function(a){b.push(c('<div class="option" data-value="{{value}}">{{label}}</div>',{value:a.getValue(),label:a.getLabel()}))}),b.join("")},_getButtonsHtml:function(){return['<div class="actions">','<a href="#" data-add-all>&gt;&gt;</a>','<a href="#" data-add-selected>&gt;</a>','<a href="#" data-remove-selected>&lt;</a>','<a href="#" data-remove-all>&lt;&lt;</a>',"</div>"].join("")},template:function(a,b){var c;b=b||{};for(var d in b)c=new RegExp("{{"+d+"}}","g"),a=a.replace(c,b[d]);return a}},a.WebComponents=a.WebComponents||{},a.WebComponents.FancySelect=a.WebComponents.FancySelect||b}("undefined"==typeof exports?this.Koine||(this.Koine={}):exports);